
----------
jsemer      Date: Mon Apr 14 18:17:40 EDT 2008  CSN: CSN-hasim-alpha-2
                  Mon Apr 14 22:17:40 UTC 2008


Directory config/pm/hasim-alpha
 alpha-unpipelined/        Locally Added               0 

Directory config/pm/hasim-alpha/alpha-unpipelined
 alpha_unpipelined_exe.apm Locally Added               0 

Directory config/pm/hasim-alpha
 submodels/                Locally Added               0 

Directory config/pm/hasim-alpha/submodels
 funcp/                    Locally Added               0 

Directory config/pm/hasim-alpha/submodels/funcp
 alpha_funcp_v3.apm        Locally Added               0 

Skeleton for initial Alpha model. Several ISA modules
still need to be replaced with Alpha versions.

----------
jsemer      Date: Mon Apr 14 18:19:54 EDT 2008  CSN: CSN-hasim-alpha-3
                  Mon Apr 14 22:19:54 UTC 2008


Directory config/pm/hasim-alpha/alpha-unpipelined
 alpha_unpipelined_exe.apm Locally Modified            2 

Switch model to use functional partition submodel.

----------
mcadler     Date: Mon Apr 14 21:04:20 EDT 2008  CSN: CSN-hasim-alpha-4
                  Tue Apr 15 01:04:20 UTC 2008


Directory .
 configure                 Locally Added               0 
 Makefile.in               Locally Added               0 

Directory include
 config.h.in               Locally Added               0 

Directory .
 include/                  Locally Added               0 

Directory platform
 m5/                       Locally Added               0 

Directory platform/m5
 m5-alpha-se.awb           Locally Added               0 

Directory platform
 Makefile                  Locally Added               0 

Directory .
 platform/                 Locally Added               0 
 configure.in              Locally Added               0 

Directory scripts
 missing                   Locally Added               0 
 install-sh                Locally Added               0 

Directory .
 scripts/                  Locally Added               0 

Directory admin/packages
 hasim-alpha               Locally Modified            3 

Directory .
 README                    Locally Added               0 

Directory config/pm/hasim-alpha
 alpha-5stage/             Locally Added               0 

Directory config/pm/hasim-alpha/alpha-5stage
 alpha_5stage_hybrid_sim.apm Locally Added               0 

Directory .
 Makefile.am               Locally Added               0 
 aclocal.m4                Locally Added               0 

- Build user-mode versions of m5 for Alpha as part of the configure/top level
  make step of hasim-alpha.
- Define a 5 stage model.  It is still basically the MIPS model, but it
  links with m5.  The model doesn't run yet, since m5 arguments aren't
  passed correctly.

----------
pellauer    Date: Tue Apr 15 11:56:51 EDT 2008  CSN: CSN-hasim-alpha-5
                  Tue Apr 15 15:56:51 UTC 2008


Directory config/pm/hasim-alpha/alpha-unpipelined
 alpha_unpipelined_exe.apm Locally Modified            4 

Directory config/pm/hasim-alpha/alpha-5stage
 alpha_5stage_hybrid_sim.apm Locally Modified            4 

Directory config/pm/hasim-alpha/submodels/funcp
 alpha_funcp_v3.apm        Locally Modified            4 

Directory modules
 hasim/                    Locally Added               0 

Directory modules/hasim
 functional-partition/     Locally Added               0 

Directory modules/hasim/functional-partition
 isa/                      Locally Added               0 

Directory modules/hasim/functional-partition/isa
 datapath/                 Locally Added               0 

Directory modules/hasim/functional-partition/isa/datapath
 isa_datapath_alpha.awb    Locally Added               0 
 isa_datapath_alpha.bsv    Locally Added               0 

Directory modules/hasim/functional-partition/isa
 definition/               Locally Added               0 

Directory modules/hasim/functional-partition/isa/definition
 isa_decode_functions.bsv  Locally Added               0 
 isa_definition_alpha.awb  Locally Added               0 
 isa_datatypes.bsv         Locally Added               0 
 isa_memory_conversions.bsv Locally Added               0 
 isa_derived_types.bsv     Locally Added               0 
 README.txt                Locally Added               0 


Added skeleton Alpha ISA. It just tells the functional partition to execute
every instruction in software via emulation.

This isn't quite enough to run a benchmarks because it means branches cannot be
taken.

Michael P.

----------
mcadler     Date: Wed Apr 16 15:10:05 EDT 2008  CSN: CSN-hasim-alpha-6
                  Wed Apr 16 19:10:05 UTC 2008


Directory platform/m5
 m5-alpha-se.awb           Locally Modified            5 

Directory platform
 Makefile                  Locally Modified            5 

Directory modules/hasim/functional-partition/isa/definition
 isa_definition_alpha.awb  Locally Modified            5 

- Use %library for m5 libraries
- Add SIMULATED_ISA param to isa_definition module (needed by m5)

----------
mcadler     Date: Wed Apr 16 15:21:45 EDT 2008  CSN: CSN-hasim-alpha-7
                  Wed Apr 16 19:21:45 UTC 2008


Directory config/bm
 alpha/                    Locally Added               0 

Directory config/bm/alpha
 6_375.cfx                 Locally Added               0 

Alpha versions of 6.375 programs.

----------
vmurali     Date: Wed Apr 16 17:53:14 EDT 2008  CSN: CSN-hasim-alpha-8
                  Wed Apr 16 21:53:14 UTC 2008


Directory admin/packages
 hasim-alpha               Locally Modified            7 

Directory modules/hasim/functional-partition/isa/datapath
 isa_datapath_alpha.bsv    Locally Modified            7 

Directory modules/hasim/functional-partition/isa/definition
 isa_decode_functions.bsv  Locally Modified            7 
 isa_datatypes.bsv         Locally Modified            7 
 isa_memory_conversions.bsv Locally Modified            7 

Initial (non-working) checkin of Alpha ISA

Removed package dependencies, due to bug in 
package dependency checks on commit.


----------
vmurali     Date: Thu Apr 17 01:34:41 EDT 2008  CSN: CSN-hasim-alpha-9
                  Thu Apr 17 05:34:41 UTC 2008


Directory modules/hasim/functional-partition/isa/datapath
 isa_datapath_alpha.bsv    Locally Modified            8 

Directory modules/hasim/functional-partition/isa/definition
 isa_decode_functions.bsv  Locally Modified            8 
 isa_datatypes.bsv         Locally Modified            8 
 isa_memory_conversions.bsv Locally Modified            8 

hasim-alpha ISA compiles. I changed the width of memory values to 32 bits temporarily to get going. This will change to 64 bit values soon.

----------
vmurali     Date: Thu Apr 17 01:53:08 EDT 2008  CSN: CSN-hasim-alpha-10
                  Thu Apr 17 05:53:08 UTC 2008


Directory modules/hasim/functional-partition/isa/definition
 isa_decode_functions.bsv  Locally Modified            9 


Changed the isaGetSrc and isaGetDst functions.

----------
jsemer      Date: Fri Apr 18 15:13:13 EDT 2008  CSN: CSN-hasim-alpha-11
                  Fri Apr 18 19:13:13 UTC 2008


Directory .
 include/                  Locally Modified           10 

Directory platform
 m5/                       Locally Modified           10 

Directory config/pm/hasim-alpha/alpha-unpipelined
 alpha_unpipelined_exe.apm Locally Modified           10 

Directory config/pm/hasim-alpha/alpha-5stage
 alpha_5stage_hybrid_sim.apm Locally Modified           10 

Directory .
 ./                        Locally Modified           10 

The unpipelined and 5 stage models now use submodels for
the functional partition and common. The unpipelined model
did not and still does not compile.

Added svn:ignore properties for varous build outputs that
aren't checked in.

----------
mcadler     Date: Mon Apr 21 15:45:33 EDT 2008  CSN: CSN-hasim-alpha-12
                  Mon Apr 21 19:45:33 UTC 2008


Directory platform
 Makefile                  Locally Modified           11 

Directory config/pm/hasim-alpha/alpha-unpipelined
 alpha_unpipelined_exe.apm Locally Modified           11 

Directory config/pm/hasim-alpha/alpha-5stage
 alpha_5stage_hybrid_sim.apm Locally Modified           11 

Directory config/pm/hasim-alpha/submodels/funcp
 alpha_funcp_v3.apm        Locally Modified           11 

Directory modules/hasim/functional-partition/isa/definition
 isa_memory_conversions.bsv Locally Modified           11 

- Separate memory into two categories.  Functional model memory now is defined
  under the functional model.  The memory defined in the FPGA environment
  is now just scratchpad memory.  Either memory may be hybrid.
- Remove include file loop.

----------
vmurali     Date: Tue Apr 22 03:58:54 EDT 2008  CSN: CSN-hasim-alpha-13
                  Tue Apr 22 07:58:54 UTC 2008


Directory modules/hasim/functional-partition/isa/datapath
 isa_datapath_alpha.bsv    Locally Modified           12 

Directory modules/hasim/functional-partition/isa/definition
 isa_decode_functions.bsv  Locally Modified           12 


added more instructions.

----------
vmurali     Date: Tue Apr 22 11:41:37 EDT 2008  CSN: CSN-hasim-alpha-14
                  Tue Apr 22 15:41:37 UTC 2008


Directory modules/hasim/functional-partition/isa/datapath
 isa_datapath_alpha.bsv    Locally Modified           13 

Directory modules/hasim/functional-partition/isa/definition
 isa_decode_functions.bsv  Locally Modified           13 
 isa_datatypes.bsv         Locally Modified           12 


Added few more instructions. Changed ISA_REG_INDEX type to tagged union going forward.

----------
mcadler     Date: Tue Apr 22 16:07:56 EDT 2008  CSN: CSN-hasim-alpha-15
                  Tue Apr 22 20:07:56 UTC 2008


Directory modules/hasim/functional-partition/isa/datapath
 isa_datapath_alpha.bsv    Locally Modified           14 

Fix branch instructions (immediate, not register displacements).

----------
vmurali     Date: Wed Apr 23 21:56:42 EDT 2008  CSN: CSN-hasim-alpha-16
                  Thu Apr 24 01:56:42 UTC 2008


Directory modules/hasim/functional-partition/isa/datapath
 isa_datapath_alpha.bsv    Locally Modified           15 

Directory modules/hasim/functional-partition/isa/definition
 isa_decode_functions.bsv  Locally Modified           15 
 isa_datatypes.bsv         Locally Modified           15 
 isa_memory_conversions.bsv Locally Modified           15 


- Added most of the instructions
- Removed datapath for all memory instructions
- Kept bit-sizes at 32, as changing it to 64 created problems in regstate-manager. Will take a look at that now.


----------
vmurali     Date: Wed Apr 23 23:40:27 EDT 2008  CSN: CSN-hasim-alpha-17
                  Thu Apr 24 03:40:27 UTC 2008


Directory modules/hasim/functional-partition/isa/datapath
 isa_datapath_alpha.bsv    Locally Modified           16 

Directory modules/hasim/functional-partition/isa/definition
 isa_decode_functions.bsv  Locally Modified           16 
 isa_datatypes.bsv         Locally Modified           16 


- Added memory instructions in hasim-alpha

----------
mcadler     Date: Thu Apr 24 00:03:16 EDT 2008  CSN: CSN-hasim-alpha-18
                  Thu Apr 24 04:03:16 UTC 2008


Directory platform/m5
 m5-alpha-se.awb           Locally Modified           17 

Directory modules/hasim/functional-partition/isa/datapath
 isa_datapath_alpha.bsv    Locally Modified           17 

Directory modules/hasim/functional-partition/isa/definition
 isa_decode_functions.bsv  Locally Modified           17 

- Off by 1 in operand numbering in isa_decode_functions
- Tweak some debug statements in isa_datapath_alpha

----------
vmurali     Date: Thu Apr 24 16:10:16 EDT 2008  CSN: CSN-hasim-alpha-19
                  Thu Apr 24 20:10:16 UTC 2008


Directory config/bm/alpha
 6_375.cfx                 Locally Modified           18 

Directory modules/hasim/functional-partition/isa/definition
 isa_decode_functions.bsv  Locally Modified           18 

- Modified isaGetSrcs and isaGetDsts to return ISA_REG_INDEX


----------
vmurali     Date: Fri Apr 25 11:28:48 EDT 2008  CSN: CSN-hasim-alpha-20
                  Fri Apr 25 15:28:48 UTC 2008


Directory config/pm/hasim-alpha/submodels/funcp
 alpha_funcp_v3.apm        Locally Modified           19 

Editted the apm to include funcp_memory

----------
mcadler     Date: Sun Apr 27 15:20:59 EDT 2008  CSN: CSN-hasim-alpha-21
                  Sun Apr 27 19:20:59 UTC 2008


Directory config/pm/hasim-alpha/alpha-unpipelined
 alpha_unpipelined_exe.apm Locally Modified           20 

Directory config/pm/hasim-alpha/alpha-5stage
 alpha_5stage_hybrid_sim.apm Locally Modified           20 

Directory config/pm/hasim-alpha/submodels/funcp
 alpha_funcp_v3.apm        Locally Modified           20 

Update for new common configuration.

----------
pellauer    Date: Mon Apr 28 14:03:36 EDT 2008  CSN: CSN-hasim-alpha-22
                  Mon Apr 28 18:03:36 UTC 2008


Directory config/pm/hasim-alpha/alpha-5stage
 alpha_5stage_hybrid_sim.apm Locally Modified           21 


Update model to reflect V3.

Michael P.


----------
vmurali     Date: Mon Apr 28 18:11:43 EDT 2008  CSN: CSN-hasim-alpha-23
                  Mon Apr 28 22:11:43 UTC 2008


Directory config/pm/hasim-alpha/submodels/funcp
 alpha_funcp_v3.apm        Locally Modified           22 

Directory modules/hasim/functional-partition/isa/datapath
 isa_datapath_alpha.bsv    Locally Modified           22 

Directory modules/hasim/functional-partition/isa/definition
 isa_decode_functions.bsv  Locally Modified           22 
 isa_datatypes.bsv         Locally Modified           22 
 isa_memory_conversions.bsv Locally Modified           22 


- Got basic vmh benchmark working
- Fixed a bug in lda, ldal ( was seen as load before )

----------
mcadler     Date: Mon Apr 28 22:39:15 EDT 2008  CSN: CSN-hasim-alpha-24
                  Tue Apr 29 02:39:15 UTC 2008


Directory modules/hasim/functional-partition/isa/datapath
 isa_datapath_alpha.bsv    Locally Modified           23 

- LDAH was wrong because memDisp was a 16 bit type and left shift by 16
  was always 0.  Switch to memDisp as a Bit#(64) so the sign extend is done
  once.
- Add some more debugging output.

----------
mcadler     Date: Tue Apr 29 11:52:09 EDT 2008  CSN: CSN-hasim-alpha-25
                  Tue Apr 29 15:52:09 UTC 2008


Directory modules/hasim/functional-partition/isa/datapath
 isa_datapath_alpha.bsv    Locally Modified           24 

Directory modules/hasim/functional-partition/isa/definition
 isa_decode_functions.bsv  Locally Modified           23 

- cmov instructions need to claim 3 inputs (not tested)
- Improve popcnt instructions:
  - Use 7 bit temp counter instead of 64 bits
  - Old algorithm was hanging the compiler!  It was also obviously wrong.
    Use a simpler algorithm.
- Every implemented opcode now emits a debug message

----------
vmurali     Date: Tue Apr 29 17:48:16 EDT 2008  CSN: CSN-hasim-alpha-26
                  Tue Apr 29 21:48:16 UTC 2008


Directory modules/hasim/functional-partition/isa/definition
 isa_datatypes.bsv         Locally Modified           25 


- Intermediate check-in: made arch reg index size 6 bits

----------
vmurali     Date: Wed Apr 30 00:25:54 EDT 2008  CSN: CSN-hasim-alpha-27
                  Wed Apr 30 04:25:54 UTC 2008


Directory modules/hasim/functional-partition/isa/definition
 isa_decode_functions.bsv  Locally Modified           25 

Directory modules/hasim/functional-partition/isa/datapath
 isa_datapath_alpha.awb    Locally Modified           25 


Changed the decoder to return tagged Invalid for reg 31


----------
mcadler     Date: Wed Apr 30 08:38:03 EDT 2008  CSN: CSN-hasim-alpha-28
                  Wed Apr 30 12:38:03 UTC 2008


Directory config/pm/hasim-alpha/submodels/funcp
 alpha_funcp_v3.apm        Locally Modified           27 

New functional partition base types.

----------
mcadler     Date: Wed Apr 30 08:40:04 EDT 2008  CSN: CSN-hasim-alpha-29
                  Wed Apr 30 12:40:04 UTC 2008


Directory config/pm/hasim-alpha/alpha-5stage
 alpha_5stage_hybrid_sim.apm Locally Removed            27 
 alpha_5stage_hybrid_exe.apm Locally Added               - 

Rename to "exe" suffix, conforming to our agreed scheme.

----------
vmurali     Date: Wed Apr 30 09:23:56 EDT 2008  CSN: CSN-hasim-alpha-30
                  Wed Apr 30 13:23:56 UTC 2008


Directory modules/hasim/functional-partition/isa/datapath
 isa_datapath_alpha.awb    Locally Modified           29 


Checking back old awb file without the cpp and h files

----------
vmurali     Date: Wed Apr 30 16:29:50 EDT 2008  CSN: CSN-hasim-alpha-31
                  Wed Apr 30 20:29:50 UTC 2008


Directory modules/hasim/functional-partition/isa/definition
 isa_decode_functions.bsv  Locally Modified           30 


Took care of the bug in previous commit. Now the test passes

----------
mcadler     Date: Thu May  1 15:15:11 EDT 2008  CSN: CSN-hasim-alpha-32
                  Thu May  1 19:15:11 UTC 2008


Directory config/pm/hasim-alpha/alpha-unpipelined
 alpha_unpipelined_htg.apm Locally Added               0 

Directory config/pm/hasim-alpha/alpha-5stage
 alpha_5stage_hybrid_htg.apm Locally Added               0 

Directory config/pm/hasim-alpha/submodels/funcp
 alpha_funcp_v3.apm        Locally Modified           31 

Directory modules/hasim/functional-partition/isa/definition
 isa_datatypes.h           Locally Added               0 
 isa_definition_alpha.awb  Locally Modified           31 

- Add new ISA datatypes definition that must track the Bluespec version.
- Add HTG versions of Alpha models.

----------
mcadler     Date: Thu May  1 17:53:16 EDT 2008  CSN: CSN-hasim-alpha-33
                  Thu May  1 21:53:16 UTC 2008


Directory config/pm/hasim-alpha/submodels/funcp
 alpha_funcp_v3.apm        Locally Modified           32 

Directory modules/hasim/functional-partition/isa/definition
 isa_datatypes.h           Locally Modified           32 

Switch to m5 for functional simulation.

----------
mcadler     Date: Mon May  5 10:37:08 EDT 2008  CSN: CSN-hasim-alpha-34
                  Mon May  5 14:37:08 UTC 2008


Directory config/bm/alpha
 tests.cfx                 Locally Added               0 
 6_375.cfx                 Locally Modified           33 

Directory modules/hasim/functional-partition/isa/datapath
 isa_datapath_alpha.bsv    Locally Modified           33 

- Signed comparisons were being done unsigned
- Byte zap had wrong sense
- msk and ins shifts were wrong direction
- Create new "tests" workload list.  Keep 6_375 benchmarks pure.

----------
jsemer      Date: Mon May  5 16:56:36 EDT 2008  CSN: CSN-hasim-alpha-35
                  Mon May  5 20:56:36 UTC 2008


Directory experiments
 hasim-alpha/              Locally Added               0 

Directory experiments/hasim-alpha
 regression/               Locally Added               0 

Directory experiments/hasim-alpha/regression
 regression.models         Locally Added               0 
 regression.benchmarks     Locally Added               0 

Directory .
 experiments/              Locally Added               0 

Added initial regresion test for alpha. Model will build,
but not run yet. To run regression type:

% regression.launcher --package=hasim-asim --runcmds="--nobatch"

or add the following to the end of your ~/.asim/asimrc file 

---------------
# This will run hasim regressions for both alpha and mips

[regression.launcher]
PACKAGES=hasim-alpha,hasim-mips

[asim-run]
USE_NETBATCH=0
---------------

and run:

% regression.launcher


----------
jsemer      Date: Mon May  5 17:30:10 EDT 2008  CSN: CSN-hasim-alpha-36
                  Mon May  5 21:30:10 UTC 2008


Directory experiments/hasim-alpha/regression
 regression.models         Locally Modified           35 
 regression.benchmarks     Locally Modified           35 

Regression test the unpipelined model...

----------
mcadler     Date: Mon May  5 17:50:47 EDT 2008  CSN: CSN-hasim-alpha-37
                  Mon May  5 21:50:47 UTC 2008


Directory modules/hasim/functional-partition/isa/definition
 isa_decode_functions.bsv  Locally Modified           36 

Don't need ISA emulation for fnop (cpys <>,<>,f31).

----------
mcadler     Date: Fri May  9 09:31:16 EDT 2008  CSN: CSN-hasim-alpha-38
                  Fri May  9 13:31:16 UTC 2008


Directory experiments/hasim-alpha/regression
 regression.models         Locally Modified           37 
 regression.benchmarks     Locally Modified           37 

Directory config/bm/alpha
 tests.cfx                 Locally Modified           37 

Directory modules/hasim/functional-partition/isa/datapath
 isa_datapath_alpha.bsv    Locally Modified           37 

Directory modules/hasim/functional-partition/isa/definition
 isa_decode_functions.bsv  Locally Modified           37 
 isa_datatypes.bsv         Locally Modified           37 
 isa_memory_conversions.bsv Locally Modified           37 

- Immediate in operate instructions is zero extended, not sign.
- Simplify memory size case statements
- Drop integer multiply support for now.  Implementation is too slow and
  big for hardware.
- Add memory test
- Rename regression model to be consistent with APM naming.

----------
mcadler     Date: Mon May 12 23:05:09 EDT 2008  CSN: CSN-hasim-alpha-39
                  Tue May 13 03:05:09 UTC 2008


Directory modules/hasim/functional-partition/isa/definition
 isa_decode_functions.bsv  Locally Modified           38 

Multiply instructions shouldn't have a destination when mul is emulated.

----------
pellauer    Date: Mon May 19 09:38:12 EDT 2008  CSN: CSN-hasim-alpha-40
                  Mon May 19 13:38:12 UTC 2008


Directory config/pm/hasim-alpha/submodels/funcp
 alpha_funcp_v3.apm        Locally Modified           39 


Use the cache in the functional partition.

Michael


----------
vmurali     Date: Mon May 19 19:03:45 EDT 2008  CSN: CSN-hasim-alpha-41
                  Mon May 19 23:03:45 UTC 2008


Directory modules/hasim/functional-partition/isa/definition
 isa_memory_conversions.bsv Locally Modified           40 


- Aligned store test passes
- TODO: unaligned stores, right handling of store conditionals




----------
jsemer      Date: Fri May 23 08:12:58 EDT 2008  CSN: CSN-hasim-alpha-42
                  Fri May 23 12:12:58 UTC 2008


Directory admin/packages
 hasim-alpha               Locally Modified           41 

Readded package dependencies on m5, platforms and hasim, since asim-shell
should now be tolerant of checkins even a dependent package is not
available. 

To checkin without checking dependencies use:

   % asim-shell -- commit package <package> --nodependent


----------
mcadler     Date: Tue May 27 16:49:23 EDT 2008  CSN: CSN-hasim-alpha-43
                  Tue May 27 20:49:23 UTC 2008


Directory modules/hasim/functional-partition/isa/definition
 isa_decode_functions.bsv  Locally Modified           42 

opc1c has 1 destination (not 0).

----------
vmurali     Date: Tue May 27 21:29:52 EDT 2008  CSN: CSN-hasim-alpha-44
                  Wed May 28 01:29:52 UTC 2008


Directory modules/hasim/functional-partition/isa/datapath
 isa_datapath_alpha.bsv    Locally Modified           43 

Directory modules/hasim/functional-partition/isa/definition
 isa_decode_functions.bsv  Locally Modified           43 


-Fixed the bug to make load and store conditionals working. Basically the problem was a bug in handling 3 destinations ( similar to the one Michael A spotted before ). I sequentialized the code, but there are a couple of other places where this bug is present I think

----------
mcadler     Date: Tue May 27 22:58:21 EDT 2008  CSN: CSN-hasim-alpha-45
                  Wed May 28 02:58:21 UTC 2008


Directory modules/hasim/functional-partition/isa/definition
 isa_decode_functions.bsv  Locally Modified           44 

Half of opc1c functions are supposed to be emulated.  My last check-in broke
the emulated instructions by claiming the emulated instructions have
destinations.  This sometimes breaks because the emulation code only updates
registers when they change value.  It should probably be fixed to force
updates on true destination registers, but for now simply claiming no
destinations in the decoder works, too.

